generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// reminder to add hashing and shit (not in db but through the ts)
model users {
  id         String     @id @default(uuid())
  username   String
  email      String     @unique
  password   String
  created_at DateTime?  @default(now())
  updated_at DateTime?  @updatedAt
  comments   comments[]
  posts      posts[]
}

// should also implement comment functionality later
model comments {
  id         String    @id @default(uuid())
  content    String
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt

  author_id String?
  author    users?  @relation(fields: [author_id], references: [id])

  post_id String?
  posts   posts?  @relation(fields: [post_id], references: [id])
}

model posts {
  id              String    @id @default(uuid())
  title           String
  subtitle        String
  content         String
  sentiment_score Float?
  created_at      DateTime? @default(now())
  updated_at      DateTime? @updatedAt

  comments comments[]

  category_id String?
  categories  categories? @relation(fields: [category_id], references: [id])

  author_id String
  users     users? @relation(fields: [author_id], references: [id])
}

model categories {
  id         String    @id @default(uuid())
  name       String    @unique
  created_at DateTime? @default(now())
  updated_at DateTime? @updatedAt
  posts      posts[]
}
